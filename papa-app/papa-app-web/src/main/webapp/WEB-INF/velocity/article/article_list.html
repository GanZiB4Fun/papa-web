<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>文章列表</title>
    #parse("common/linkFile.html")
    <link rel="stylesheet" type="text/css" href="/css/jianshu_list.css">
    <link rel="stylesheet" type="text/css" href="/css/page.css">
</head>
<body lang="zh-CN" class="reader-black-font">
<input type="hidden" id="tag" value="$!{tag}"/>
<input type="hidden" id="author" value="$!{author}"/>
<div class="container collection">
    <div class="row">
        <div class="col-xs-24 col-sm-16 main">

            <div id="list-container">
                <div class="container">
                    <!-- 文章列表模块 -->
                    <ul class="note-list">
                        #if($!{articleList}&&$!{articleList.size()}>0)
                        #foreach($article in $!{articleList})
                        <li class="have-img">
                            <div class="content">
                                <a class="title" target="_blank" href="/article/info?docId=$!{article.docId}">$!{article.title}</a>
                                <p class="abstract">
                                    $!{article.descri}
                                </p>
                                <a class="wrap-img" href="/article/info?docId=$!{article.docId}" target="_blank">
                                    <img class="  img-blur-done" src="$!{article.coverImg}" alt="120">
                                </a>
                                <div class="meta">
                                    <a class="nickname" target="_blank"
                                       href="/article/list?page=1&rows=10&author=$!{article.authorName}">$!{article.authorName}</a>
                                    <a target="_blank" href="#">
                                        <i class="iconfont ic-list-comments"></i> 3
                                    </a> <span><i class="iconfont ic-list-like"></i> 3</span>
                                </div>
                            </div>
                        </li>
                        #end
                        #end
                    </ul>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="container large">
    <div class="pagination">
        <ul>
            <li><a onclick="page(${previousPage})">上一页</a></li>
            <li>$!{currentPage}</li>
            <li><a onclick="page(${nextPage})">下一页</a></li>
        </ul>
    </div>
</div>
<script type="text/javascript">

    function page(pageNum) {
        var tag = $("#tag").val();
        var author = $("#author").val();
        var url = "/article/list?page=" + pageNum;
        if (tag != null && tag.length > 0) {
            url = url + "&tag=" + tag;
        }
        if (author != null && author.length > 0) {
            url = url + "&author=" + author;
        }
        window.location.href = url;
    }
</script>
</body>
</html>